<div class="h-screen flex items-center flex-col pt-12">
  @if(!changePasswordMode){ @if(!wasSuccess){
  <form
    class="h-3/5 w-2/5 flex flex-col rounded-lg justify-center items-center text-center bg-gray-600"
    [formGroup]="userForm"
  >
    <h1 class="text-3xl mb-10">Change user settings</h1>
    <p class="text-red-500">{{ errorMessage }}</p>
    <label>Login</label>
    <input
      type="text"
      formControlName="userName"
      class="w-3/5"
      value="userName.value"
    />
    <label>Email</label>
    <input
      type="text"
      formControlName="email"
      class="w-3/5"
      value="email.value"
    />
    <span class="grid grid-cols-2 gap-2 mt-4">
      <span class="flex justify-center">
        <input
          type="checkbox"
          id="isActive"
          formControlName="isActive"
          class="w-4 h-4 accent-gray-900 bg-gray-100 border-gray-300 rounded"
        />
        <label
          for="isActive"
          class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"
          >Is Active</label
        >
      </span>
      <span class="flex justify-center">
        <input
          type="checkbox"
          id="isAdmin"
          formControlName="isAdmin"
          class="w-4 h-4 accent-gray-900 bg-gray-100 border-gray-300 rounded"
        />
        <label
          for="isAdmin"
          class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"
          >Is Admin</label
        >
      </span>
    </span>
    @if(disabled) {
    <span class="grid grid-cols-2 gap-4">
      <app-button
        content="Change Settings"
        buttonClass="main"
        (buttonClick)="switchEditMode()"
      />
      <app-button
        content="Change Password"
        buttonClass="secondary"
        (buttonClick)="switchChangePasswordMode()"
      />
    </span>
    } @else {
    <span class="grid grid-cols-2 gap-4">
      <app-button
        content="Save Changes"
        buttonClass="main"
        (buttonClick)="handleUpdate()"
      />
      <app-button
        content="Discard"
        buttonClass="secondary"
        (buttonClick)="resetForm()"
      />
    </span>
    }
    <app-link-button content="Go back" link="/admin/users" />
  </form>
  } @else {
  <div class="h-screen w-full flex items-center flex-col pt-12">
    <div
      class="h-1/5 w-2/5 flex flex-col rounded-lg justify-center items-center text-center bg-green-300 text-green-800"
    >
      <p>Operation has been successfull!</p>
      <app-button
        content="Go back"
        buttonClass="main"
        (buttonClick)="ResetComponent()"
      />
      <app-link-button link="/main" content="Main Page" />
    </div>
  </div>
  } } @else { @if(!wasSuccess){
  <form
    class="h-3/5 w-2/5 flex flex-col rounded-lg justify-center items-center text-center bg-gray-600"
    [formGroup]="passWordForm"
  >
    <h1 class="text-3xl mb-10">Change user password</h1>
    <p class="text-red-500">{{ errorMessage }}</p>
    <label>Password</label>
    <input type="password" formControlName="password" class="w-3/5" />
    <label>Confirm Password</label>
    <input type="password" formControlName="confirmPassword" class="w-3/5" />
    <span class="grid grid-cols-2 gap-4">
      <app-button
        content="Save"
        buttonClass="main"
        (buttonClick)="handleChangePassWord()"
      />
      <app-button
        content="Discard"
        buttonClass="secondary"
        (buttonClick)="switchChangePasswordMode()"
      />
    </span>
  </form>
  } @else {
  <div class="h-screen w-full flex items-center flex-col pt-12">
    <div
      class="h-1/5 w-2/5 flex flex-col rounded-lg justify-center items-center text-center bg-green-300 text-green-800"
    >
      <p>Operation has been successfull!</p>
      <app-button
        content="Go back"
        buttonClass="main"
        (buttonClick)="ResetComponent()"
      />
      <app-link-button link="/main" content="Main Page" />
    </div>
  </div>
  }}
</div>
